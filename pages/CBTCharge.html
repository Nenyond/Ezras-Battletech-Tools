<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charging</title>
    <link rel="stylesheet" href="../style.css">
    <script src="../javascript.js"></script>
</head>
<body>
    <h4>Ezra's Battletech Tools</h4>
    
        <h4>Charging Unit Weight</h4>
        <p id="weight">55</p>
        <input type="range" name="weight" id="weightRange" min="10" max="100" step="5" style="width: 75%">   
        <h4>Hexes Travelled</h4>
        <p id="distance">9</p>
        <input type="range" name="hexes" id="hexes" min="1" max="16" step="1" style="width:75%">
        <h4>Target Unit Weight</h4>
        <p id="targetmass">55</p>
        <input type="range" name="target" id="targetRange" min="10" max="100" step="5" style="width: 75%">   
        
        <div>
            <button onclick="CBTCharge()">CHAARGE</button>
        </div>
    <p id="charge">Total Charge Damage:</p>
<div class="small">
    <button onclick="window.location.href='../home.html'">Home</button>
    <button onclick="window.location.href='../Classic.html'">Classic Tools</button>
    <button>Next (PSR)</button>
</div>
    
    <script>
        const WeightSlider = document.getElementById("weightRange");
        const WeightDisplay = document.getElementById("weight");
        const HexSlider = document.getElementById("hexes");
        const distDisplay = document.getElementById("distance");
        const TargetSlider = document.getElementById("targetRange");
        const massDisplay = document.getElementById("targetmass");

WeightSlider.addEventListener("input", function() {
    WeightDisplay.textContent = WeightSlider.value;
});
HexSlider.addEventListener("input", function() {
    distDisplay.textContent = HexSlider.value;
});
TargetSlider.addEventListener("input", function() {
    massDisplay.textContent = TargetSlider.value;
});

function CBTCharge () {
    const mass = WeightSlider.value / 10;
    const damage = Math.round(mass * HexSlider.value)
    const groups = Math.floor(damage / 5)
    const remainder = damage % 5
    const retribution = Math.floor(TargetSlider.value / 10)
    const retgroup = Math.floor(retribution / 5)
    const retremain = retribution % 5

    return document.getElementById("charge").innerHTML = `Total Charge Damage: Defender takes ${damage} damage in clusters of 5 to ${groups} locations and one cluster of ${remainder} to one location. The Attacker takes ${retribution} damage in clusters of 5 to ${retgroup} locations and a cluster of ${retremain} to a single location.`
}
    </script>
</body>
</html>